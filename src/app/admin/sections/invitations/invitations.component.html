<div class="invitations">
  <div class="container text-center">
    <h3 class="title script"><span class="title-deco-left"></span><span class="title-text">Invitaciones</span>
      <span class="title-deco-right"></span>
    </h3>
    <div *ngIf="result">
      <div class="countdown-box" id="countdown-box">
        <span class="item awaiting"><span class="number">{{result.awaiting}}</span><span class="unit script">Por enviar</span>
        </span>
        <span class="item confirmed"><span class="number">{{result.sent}}</span><span class="unit script">Enviadas</span>
        </span>
      </div>
      <div class="row">
        <div class="col-lg-10 col-lg-offset-1 text-left">
          <div class="list-group">
            <div class="invitation-box" [ngClass]="{'active': activeInvitationIndex === i}" *ngFor="let invitation of result.invitations; index as i">
              <a class="list-group-item basic-info" href="javascript:void(0)" (click)="changeActiveInvitation(i)">
                <div>
                  <h4 class="list-group-item-heading">{{invitation.alias}}</h4>
                  <span class="invitation-group">{{invitation.group}}</span>
                </div>
                <div class="invitation-summary pull-right">
                  <div class="invitation-sent">
                    <div class="invitation-dot">
                      <app-boolean-dot [size]="14" [value]="invitation.isSent" [modal]="'#rsvp-invitation-modal'" (customClick)="editInvitation(invitation)"></app-boolean-dot>                      
                    </div>
                  </div>
                  <div class="invitation-number-guests">
                    <i class="fa fa-male"></i>
                    <span>{{invitation.guests.length}}</span>
                  </div>
                </div>
              </a>
              <div class="list-group-item extended-info" *ngIf="activeInvitationIndex === i">
                <div class="invitation-guests">
                  <div class="invitation-guest" *ngFor="let guest of invitation.guests">
                    <div class="full-name">
                      <i class="fa" [ngClass]="{'fa-male': guest.type === 0, 'fa-female': guest.type === 1, 'fa-child': guest.type === 2}"></i>
                      <span>{{guest.fullName}}</span>
                    </div>
                    <div class="attending-dot">
                      <app-boolean-dot [size]="12" [value]="guest.isAttending" [modal]="'#rsvp-guest-modal'" (customClick)="editGuest(guest)" ></app-boolean-dot>
                    </div>
                  </div>
                </div>
                <div class="invitation-code pull-right">
                  <div>codigo</div>
                  <div class="code">{{invitation.guid}}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-invitation-modal *ngIf="result" [invitation]="selectedInvitation" (ending)="refreshResults()"></app-invitation-modal>  
  <app-guest-modal *ngIf="result" [invitations]="result.invitations" [guest]="selectedGuest" (ending)="refreshResults()"></app-guest-modal>
</div>